{"remainingRequest":"C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\vuepress-plugin-fulltext-search\\components\\SearchBox.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\vuepress-plugin-fulltext-search\\components\\SearchBox.vue","mtime":1712243054469},{"path":"C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712243226844},{"path":"C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\babel-loader\\lib\\index.js","mtime":1712243227146},{"path":"C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712243226844},{"path":"C:\\Users\\LinJinhao\\blog\\myblog\\master\\node_modules\\vue-loader\\lib\\index.js","mtime":1712243227971}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgZmxleHNlYXJjaFN2YyBmcm9tICcuLi9zZXJ2aWNlcy9mbGV4c2VhcmNoU3ZjJw0KDQovLyBzZWUgaHR0cHM6Ly92dWVwcmVzcy52dWVqcy5vcmcvcGx1Z2luL29wdGlvbi1hcGkuaHRtbCNjbGllbnRkeW5hbWljbW9kdWxlcw0KaW1wb3J0IGhvb2tzIGZyb20gJ0BkeW5hbWljL2hvb2tzJw0KDQovKiBnbG9iYWwgU0VBUkNIX01BWF9TVUdHRVNUSU9OUywgU0VBUkNIX1BBVEhTLCBTRUFSQ0hfSE9US0VZUyAqLw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnU2VhcmNoQm94JywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcXVlcnk6ICcnLA0KICAgICAgZm9jdXNlZDogZmFsc2UsDQogICAgICBmb2N1c0luZGV4OiAwLA0KICAgICAgcGxhY2Vob2xkZXI6IHVuZGVmaW5lZCwNCiAgICAgIHN1Z2dlc3Rpb25zOiBudWxsLA0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBxdWVyeVRlcm1zKCkgew0KICAgICAgaWYgKCF0aGlzLnF1ZXJ5KSByZXR1cm4gW10NCiAgICAgIGNvbnN0IHJlc3VsdCA9IGZsZXhzZWFyY2hTdmMNCiAgICAgICAgLm5vcm1hbGl6ZVN0cmluZyh0aGlzLnF1ZXJ5KQ0KICAgICAgICAuc3BsaXQoL1teXHB7TH1ccHtOfV9dKy9pdSkNCiAgICAgICAgLmZpbHRlcih0ID0+IHQpDQogICAgICByZXR1cm4gcmVzdWx0DQogICAgfSwNCiAgICBzaG93U3VnZ2VzdGlvbnMoKSB7DQogICAgICByZXR1cm4gdGhpcy5mb2N1c2VkICYmIHRoaXMuc3VnZ2VzdGlvbnMgJiYgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGgNCiAgICB9LA0KDQogICAgLy8gbWFrZSBzdWdnZXN0aW9ucyBhbGlnbiByaWdodCB3aGVuIHRoZXJlIGFyZSBub3QgZW5vdWdoIGl0ZW1zDQogICAgYWxpZ25SaWdodCgpIHsNCiAgICAgIGNvbnN0IG5hdkNvdW50ID0gKHRoaXMuJHNpdGUudGhlbWVDb25maWcubmF2IHx8IFtdKS5sZW5ndGgNCiAgICAgIGNvbnN0IHJlcG8gPSB0aGlzLiRzaXRlLnJlcG8gPyAxIDogMA0KICAgICAgcmV0dXJuIG5hdkNvdW50ICsgcmVwbyA8PSAyDQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBxdWVyeSgpIHsNCiAgICAgIHRoaXMuZ2V0U3VnZ2VzdGlvbnMoKQ0KICAgIH0sDQogIH0sDQogIC8qIGdsb2JhbCBPUFRJT05TICovDQogIG1vdW50ZWQoKSB7DQogICAgY29uc3Qgb3B0aW9ucyA9IE9QVElPTlMgfHwge30NCiAgICBmbGV4c2VhcmNoU3ZjLmJ1aWxkSW5kZXgodGhpcy4kc2l0ZS5wYWdlcywgb3B0aW9ucykNCiAgICB0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy4kc2l0ZS50aGVtZUNvbmZpZy5zZWFyY2hQbGFjZWhvbGRlciB8fCAnJw0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uSG90a2V5KQ0KDQogICAgLy8gc2V0IHF1ZXJ5IGZyb20gVVJMDQogICAgY29uc3QgcGFyYW1zID0gdGhpcy51cmxQYXJhbXMoKQ0KICAgIGlmIChwYXJhbXMpIHsNCiAgICAgIGNvbnN0IHF1ZXJ5ID0gcGFyYW1zLmdldCgncXVlcnknKQ0KICAgICAgaWYgKHF1ZXJ5KSB7DQogICAgICAgIHRoaXMucXVlcnkgPSBkZWNvZGVVUkkocXVlcnkpDQogICAgICAgIHRoaXMuZm9jdXNlZCA9IHRydWUNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25Ib3RrZXkpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBnZXRTdWdnZXN0aW9ucygpIHsNCiAgICAgIGlmICghdGhpcy5xdWVyeSB8fCAhdGhpcy5xdWVyeVRlcm1zLmxlbmd0aCkgew0KICAgICAgICB0aGlzLnN1Z2dlc3Rpb25zID0gW10NCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBsZXQgc3VnZ2VzdGlvbnMgPSBhd2FpdCBmbGV4c2VhcmNoU3ZjLm1hdGNoKA0KICAgICAgICB0aGlzLnF1ZXJ5LA0KICAgICAgICB0aGlzLnF1ZXJ5VGVybXMsDQogICAgICAgIHRoaXMuJHNpdGUudGhlbWVDb25maWcuc2VhcmNoTWF4U3VnZ2VzdGlvbnMgfHwgU0VBUkNIX01BWF9TVUdHRVNUSU9OUywNCiAgICAgICkNCiAgICAgIGlmIChob29rcy5wcm9jZXNzU3VnZ2VzdGlvbnMpIHsNCiAgICAgICAgLy8gYXVnbWVudCBzdWdnZXN0aW9ucyB3aXRoIHVzZXItcHJvdmlkZWQgZnVuY3Rpb24NCiAgICAgICAgc3VnZ2VzdGlvbnMgPSBhd2FpdCBob29rcy5wcm9jZXNzU3VnZ2VzdGlvbnMoc3VnZ2VzdGlvbnMsIHRoaXMucXVlcnksIHRoaXMucXVlcnlUZXJtcykNCiAgICAgIH0NCiAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBzdWdnZXN0aW9ucy5tYXAocyA9PiAoew0KICAgICAgICAuLi5zLA0KICAgICAgICBoZWFkaW5nRGlzcGxheTogaGlnaGxpZ2h0KHMuaGVhZGluZ1N0ciwgcy5oZWFkaW5nSGlnaGxpZ2h0KSwNCiAgICAgICAgY29udGVudERpc3BsYXk6IGhpZ2hsaWdodChzLmNvbnRlbnRTdHIsIHMuY29udGVudEhpZ2hsaWdodCksDQogICAgICB9KSkNCiAgICB9LA0KICAgIGdldFBhZ2VMb2NhbGVQYXRoKHBhZ2UpIHsNCiAgICAgIGZvciAoY29uc3QgbG9jYWxlUGF0aCBpbiB0aGlzLiRzaXRlLmxvY2FsZXMgfHwge30pIHsNCiAgICAgICAgaWYgKGxvY2FsZVBhdGggIT09ICcvJyAmJiBwYWdlLnBhdGguaW5kZXhPZihsb2NhbGVQYXRoKSA9PT0gMCkgew0KICAgICAgICAgIHJldHVybiBsb2NhbGVQYXRoDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiAnLycNCiAgICB9LA0KICAgIGlzU2VhcmNoYWJsZShwYWdlKSB7DQogICAgICBsZXQgc2VhcmNoUGF0aHMgPSBTRUFSQ0hfUEFUSFMNCiAgICAgIC8vIGFsbCBwYXRocyBzZWFyY2hhYmxlcw0KICAgICAgaWYgKHNlYXJjaFBhdGhzID09PSBudWxsKSB7DQogICAgICAgIHJldHVybiB0cnVlDQogICAgICB9DQogICAgICBzZWFyY2hQYXRocyA9IEFycmF5LmlzQXJyYXkoc2VhcmNoUGF0aHMpID8gc2VhcmNoUGF0aHMgOiBuZXcgQXJyYXkoc2VhcmNoUGF0aHMpDQogICAgICByZXR1cm4gKA0KICAgICAgICBzZWFyY2hQYXRocy5maWx0ZXIocGF0aCA9PiB7DQogICAgICAgICAgcmV0dXJuIHBhZ2UucGF0aC5tYXRjaChwYXRoKQ0KICAgICAgICB9KS5sZW5ndGggPiAwDQogICAgICApDQogICAgfSwNCiAgICBvbkhvdGtleShldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnNyY0VsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkgJiYgU0VBUkNIX0hPVEtFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgew0KICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCkNCiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25VcCgpIHsNCiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgew0KICAgICAgICBpZiAodGhpcy5mb2N1c0luZGV4ID4gMCkgew0KICAgICAgICAgIHRoaXMuZm9jdXNJbmRleC0tDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIG9uRG93bigpIHsNCiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgew0KICAgICAgICBpZiAodGhpcy5mb2N1c0luZGV4IDwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKSB7DQogICAgICAgICAgdGhpcy5mb2N1c0luZGV4KysNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXggPSAwDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGdvKGkpIHsNCiAgICAgIGlmICghdGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAoaG9va3Mub25Hb1RvU3VnZ2VzdGlvbikgew0KICAgICAgICBjb25zdCByZXN1bHQgPSBob29rcy5vbkdvVG9TdWdnZXN0aW9uKGksIHRoaXMuc3VnZ2VzdGlvbnNbaV0sIHRoaXMucXVlcnksIHRoaXMucXVlcnlUZXJtcykNCiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAodGhpcy5zdWdnZXN0aW9uc1tpXS5leHRlcm5hbCkgew0KICAgICAgICB3aW5kb3cub3Blbih0aGlzLnN1Z2dlc3Rpb25zW2ldLnBhdGggKyB0aGlzLnN1Z2dlc3Rpb25zW2ldLnNsdWcsICdfYmxhbmsnKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5zdWdnZXN0aW9uc1tpXS5wYXRoICsgdGhpcy5zdWdnZXN0aW9uc1tpXS5zbHVnKQ0KICAgICAgICB0aGlzLnF1ZXJ5ID0gJycNCiAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gMA0KICAgICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZQ0KDQogICAgICAgIC8vIHJlc2V0IHF1ZXJ5IHBhcmFtDQogICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMudXJsUGFyYW1zKCkNCiAgICAgICAgaWYgKHBhcmFtcykgew0KICAgICAgICAgIHBhcmFtcy5kZWxldGUoJ3F1ZXJ5JykNCiAgICAgICAgICBjb25zdCBwYXJhbXNTdHJpbmcgPSBwYXJhbXMudG9TdHJpbmcoKQ0KICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgKHBhcmFtc1N0cmluZyA/IGA/JHtwYXJhbXNTdHJpbmd9YCA6ICcnKQ0KICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICcnLCBuZXdTdGF0ZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZm9jdXMoaSkgew0KICAgICAgdGhpcy5mb2N1c0luZGV4ID0gaQ0KICAgIH0sDQogICAgdW5mb2N1cygpIHsNCiAgICAgIHRoaXMuZm9jdXNJbmRleCA9IC0xDQogICAgfSwNCiAgICB1cmxQYXJhbXMoKSB7DQogICAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpIHsNCiAgICAgICAgcmV0dXJuIG51bGwNCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpDQogICAgfSwNCiAgfSwNCn0NCg0KZnVuY3Rpb24gaGlnaGxpZ2h0KHN0ciwgc3RySGlnaGxpZ2h0KSB7DQogIGlmICghc3RyKSByZXR1cm4ge30NCiAgaWYgKCFzdHJIaWdobGlnaHQpIHJldHVybiB7IHByZWZpeDogc3RyIH0NCiAgY29uc3QgW3N0YXJ0LCBsZW5ndGhdID0gc3RySGlnaGxpZ2h0DQogIGNvbnN0IGVuZCA9IHN0YXJ0ICsgbGVuZ3RoDQoNCiAgY29uc3QgcHJlZml4ID0gc3RyLnNsaWNlKDAsIHN0YXJ0KQ0KICBjb25zdCBoaWdobGlnaHRlZENvbnRlbnQgPSBzdHIuc2xpY2Uoc3RhcnQsIGVuZCkNCiAgY29uc3Qgc3VmZml4ID0gc3RyLnNsaWNlKGVuZCkNCiAgcmV0dXJuIHsgcHJlZml4LCBoaWdobGlnaHRlZENvbnRlbnQsIHN1ZmZpeCB9DQoNCiAgLy8gcmV0dXJuIGAke3ByZWZpeH08c3BhbiBjbGFzcz0iaGlnaGxpZ2h0Ij4ke2hpZ2hsaWdodGVkQ29udGVudH08L3NwYW4+JHtzdWZmaXh9YA0KfQ0K"},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";AAgDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"SearchBox.vue","sourceRoot":"node_modules/vuepress-plugin-fulltext-search/components","sourcesContent":["<template>\r\n  <div class=\"search-box\">\r\n    <input\r\n      ref=\"input\"\r\n      aria-label=\"Search\"\r\n      :value=\"query\"\r\n      :class=\"{ focused: focused }\"\r\n      :placeholder=\"placeholder\"\r\n      autocomplete=\"off\"\r\n      spellcheck=\"false\"\r\n      @input=\"query = $event.target.value\"\r\n      @focus=\"focused = true\"\r\n      @blur=\"focused = false\"\r\n      @keyup.enter=\"go(focusIndex)\"\r\n      @keyup.up=\"onUp\"\r\n      @keyup.down=\"onDown\"\r\n    />\r\n    <ul v-if=\"showSuggestions\" class=\"suggestions\" :class=\"{ 'align-right': alignRight }\" @mouseleave=\"unfocus\">\r\n      <li\r\n        v-for=\"(s, i) in suggestions\"\r\n        :key=\"i\"\r\n        class=\"suggestion\"\r\n        :class=\"{ focused: i === focusIndex }\"\r\n        @mousedown=\"go(i)\"\r\n        @mouseenter=\"focus(i)\"\r\n      >\r\n        <a :href=\"s.path + s.slug\" @click.prevent>\r\n          <div v-if=\"s.parentPageTitle\" class=\"parent-page-title\" v-html=\"s.parentPageTitle\" />\r\n          <div class=\"suggestion-row\">\r\n            <div class=\"page-title\">{{ s.title || s.path }}</div>\r\n            <div class=\"suggestion-content\">\r\n              <!-- prettier-ignore -->\r\n              <div v-if=\"s.headingStr\" class=\"header\">\r\n                {{ s.headingDisplay.prefix }}<span class=\"highlight\">{{ s.headingDisplay.highlightedContent }}</span>{{ s.headingDisplay.suffix }}\r\n              </div>\r\n              <!-- prettier-ignore -->\r\n              <div v-if=\"s.contentStr\">\r\n                {{ s.contentDisplay.prefix }}<span class=\"highlight\">{{ s.contentDisplay.highlightedContent }}</span>{{ s.contentDisplay.suffix }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport flexsearchSvc from '../services/flexsearchSvc'\r\n\r\n// see https://vuepress.vuejs.org/plugin/option-api.html#clientdynamicmodules\r\nimport hooks from '@dynamic/hooks'\r\n\r\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\r\nexport default {\r\n  name: 'SearchBox',\r\n  data() {\r\n    return {\r\n      query: '',\r\n      focused: false,\r\n      focusIndex: 0,\r\n      placeholder: undefined,\r\n      suggestions: null,\r\n    }\r\n  },\r\n  computed: {\r\n    queryTerms() {\r\n      if (!this.query) return []\r\n      const result = flexsearchSvc\r\n        .normalizeString(this.query)\r\n        .split(/[^\\p{L}\\p{N}_]+/iu)\r\n        .filter(t => t)\r\n      return result\r\n    },\r\n    showSuggestions() {\r\n      return this.focused && this.suggestions && this.suggestions.length\r\n    },\r\n\r\n    // make suggestions align right when there are not enough items\r\n    alignRight() {\r\n      const navCount = (this.$site.themeConfig.nav || []).length\r\n      const repo = this.$site.repo ? 1 : 0\r\n      return navCount + repo <= 2\r\n    },\r\n  },\r\n  watch: {\r\n    query() {\r\n      this.getSuggestions()\r\n    },\r\n  },\r\n  /* global OPTIONS */\r\n  mounted() {\r\n    const options = OPTIONS || {}\r\n    flexsearchSvc.buildIndex(this.$site.pages, options)\r\n    this.placeholder = this.$site.themeConfig.searchPlaceholder || ''\r\n    document.addEventListener('keydown', this.onHotkey)\r\n\r\n    // set query from URL\r\n    const params = this.urlParams()\r\n    if (params) {\r\n      const query = params.get('query')\r\n      if (query) {\r\n        this.query = decodeURI(query)\r\n        this.focused = true\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('keydown', this.onHotkey)\r\n  },\r\n  methods: {\r\n    async getSuggestions() {\r\n      if (!this.query || !this.queryTerms.length) {\r\n        this.suggestions = []\r\n        return\r\n      }\r\n      let suggestions = await flexsearchSvc.match(\r\n        this.query,\r\n        this.queryTerms,\r\n        this.$site.themeConfig.searchMaxSuggestions || SEARCH_MAX_SUGGESTIONS,\r\n      )\r\n      if (hooks.processSuggestions) {\r\n        // augment suggestions with user-provided function\r\n        suggestions = await hooks.processSuggestions(suggestions, this.query, this.queryTerms)\r\n      }\r\n      this.suggestions = suggestions.map(s => ({\r\n        ...s,\r\n        headingDisplay: highlight(s.headingStr, s.headingHighlight),\r\n        contentDisplay: highlight(s.contentStr, s.contentHighlight),\r\n      }))\r\n    },\r\n    getPageLocalePath(page) {\r\n      for (const localePath in this.$site.locales || {}) {\r\n        if (localePath !== '/' && page.path.indexOf(localePath) === 0) {\r\n          return localePath\r\n        }\r\n      }\r\n      return '/'\r\n    },\r\n    isSearchable(page) {\r\n      let searchPaths = SEARCH_PATHS\r\n      // all paths searchables\r\n      if (searchPaths === null) {\r\n        return true\r\n      }\r\n      searchPaths = Array.isArray(searchPaths) ? searchPaths : new Array(searchPaths)\r\n      return (\r\n        searchPaths.filter(path => {\r\n          return page.path.match(path)\r\n        }).length > 0\r\n      )\r\n    },\r\n    onHotkey(event) {\r\n      if (event.srcElement === document.body && SEARCH_HOTKEYS.includes(event.key)) {\r\n        this.$refs.input.focus()\r\n        event.preventDefault()\r\n      }\r\n    },\r\n    onUp() {\r\n      if (this.showSuggestions) {\r\n        if (this.focusIndex > 0) {\r\n          this.focusIndex--\r\n        } else {\r\n          this.focusIndex = this.suggestions.length - 1\r\n        }\r\n      }\r\n    },\r\n    onDown() {\r\n      if (this.showSuggestions) {\r\n        if (this.focusIndex < this.suggestions.length - 1) {\r\n          this.focusIndex++\r\n        } else {\r\n          this.focusIndex = 0\r\n        }\r\n      }\r\n    },\r\n    go(i) {\r\n      if (!this.showSuggestions) {\r\n        return\r\n      }\r\n      if (hooks.onGoToSuggestion) {\r\n        const result = hooks.onGoToSuggestion(i, this.suggestions[i], this.query, this.queryTerms)\r\n        if (result === true) return\r\n      }\r\n      if (this.suggestions[i].external) {\r\n        window.open(this.suggestions[i].path + this.suggestions[i].slug, '_blank')\r\n      } else {\r\n        this.$router.push(this.suggestions[i].path + this.suggestions[i].slug)\r\n        this.query = ''\r\n        this.focusIndex = 0\r\n        this.focused = false\r\n\r\n        // reset query param\r\n        const params = this.urlParams()\r\n        if (params) {\r\n          params.delete('query')\r\n          const paramsString = params.toString()\r\n          const newState = window.location.pathname + (paramsString ? `?${paramsString}` : '')\r\n          history.pushState(null, '', newState)\r\n        }\r\n      }\r\n    },\r\n    focus(i) {\r\n      this.focusIndex = i\r\n    },\r\n    unfocus() {\r\n      this.focusIndex = -1\r\n    },\r\n    urlParams() {\r\n      if (!window.location.search) {\r\n        return null\r\n      }\r\n      return new URLSearchParams(window.location.search)\r\n    },\r\n  },\r\n}\r\n\r\nfunction highlight(str, strHighlight) {\r\n  if (!str) return {}\r\n  if (!strHighlight) return { prefix: str }\r\n  const [start, length] = strHighlight\r\n  const end = start + length\r\n\r\n  const prefix = str.slice(0, start)\r\n  const highlightedContent = str.slice(start, end)\r\n  const suffix = str.slice(end)\r\n  return { prefix, highlightedContent, suffix }\r\n\r\n  // return `${prefix}<span class=\"highlight\">${highlightedContent}</span>${suffix}`\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.search-box\r\n  display inline-block\r\n  position relative\r\n  margin-right 1rem\r\n  input\r\n    cursor text\r\n    width 10rem\r\n    height: 2rem\r\n    color lighten($textColor, 25%)\r\n    display inline-block\r\n    border 1px solid darken($borderColor, 10%)\r\n    border-radius 2rem\r\n    font-size 0.9rem\r\n    line-height 2rem\r\n    padding 0 0.5rem 0 2rem\r\n    outline none\r\n    transition all .2s ease\r\n    background #fff url(../assets/search.svg) 0.6rem 0.5rem no-repeat\r\n    background-size 1rem\r\n    &:focus\r\n      cursor auto\r\n      border-color $accentColor\r\n  .suggestions\r\n    background #fff\r\n    min-width 500px\r\n    max-width 700px\r\n    position absolute\r\n    top 2 rem\r\n    border 1px solid darken($borderColor, 10%)\r\n    border-radius 6px\r\n    padding 0.4rem\r\n    list-style-type none\r\n    &.align-right\r\n      right 0\r\n  .suggestion\r\n    line-height 1.4\r\n    // padding 0.4rem 0.6rem\r\n    border-radius 4px\r\n    cursor pointer\r\n    width 100%\r\n    a\r\n      display block\r\n      white-space normal\r\n      color lighten($textColor, 15%)\r\n      width 100%\r\n      .parent-page-title\r\n        color white\r\n        font-weight 600\r\n        background-color $accentColor\r\n        padding 5px\r\n\r\n      .suggestion-row\r\n        border-collapse collapse\r\n        width 100%\r\n        display table\r\n        .page-title\r\n          width: 35%\r\n          border 1px solid $borderColor\r\n          background: #f5f5f5\r\n          border-left none\r\n          display table-cell\r\n          text-align right\r\n          padding 5px\r\n          font-weight 600\r\n        .suggestion-content\r\n          .highlight\r\n            text-decoration: underline\r\n          border 1px solid $borderColor\r\n          font-weight 400\r\n          border-right none\r\n          width: 65%\r\n          display table-cell\r\n          padding 5px\r\n          .header\r\n            font-weight 600\r\n\r\n    &.focused\r\n      background-color #f3f4f5\r\n@media (max-width: $MQNarrow)\r\n  .search-box\r\n    input\r\n      cursor pointer\r\n      width 0\r\n      border-color transparent\r\n      position relative\r\n      &:focus\r\n        cursor text\r\n        left 0\r\n        width 10rem\r\n// Match IE11\r\n@media all and (-ms-high-contrast: none)\r\n  .search-box input\r\n    height 2rem\r\n@media (max-width: $MQNarrow) and (min-width: $MQMobile)\r\n  .search-box\r\n    .suggestions\r\n      left 0\r\n@media (max-width: $MQMobile)\r\n  .search-box\r\n    margin-right 0\r\n    input\r\n      left 1rem\r\n    .suggestions\r\n      right 0\r\n@media (max-width: $MQMobileNarrow)\r\n  .search-box\r\n    .suggestions\r\n      width calc(100vw - 4rem)\r\n    input:focus\r\n      width 8rem\r\n</style>\r\n"]}]}