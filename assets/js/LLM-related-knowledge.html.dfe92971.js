"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[430],{6262:(s,a)=>{a.A=(s,a)=>{const l=s.__vccOpts||s;for(const[s,t]of a)l[s]=t;return l}},7219:(s,a,l)=>{l.r(a),l.d(a,{comp:()=>Ns,data:()=>Us});var t=l(641);const n=l.p+"assets/img/de7d29620e1835033f2dfd0b0eb43cc8.955f3e88.png",e=l.p+"assets/img/image-20240522151539834.f869b636.png",m=l.p+"assets/img/image-20240522164137150.a39b52f1.png",i=l.p+"assets/img/image-20240528153141276.ac7ffeff.png",r=l.p+"assets/img/image-20240528155528122.d80191e5.png",p=l.p+"assets/img/image-20240528155619858.b6407d99.png",k=l.p+"assets/img/image-20240528155911512.ddf0749d.png",L=l.p+"assets/img/1CwvMsZ096A8or00GcOL7-g.963734c1.png",c=(0,t.Fv)('<h1 id="llm相关知识" tabindex="-1"><a class="header-anchor" href="#llm相关知识"><span>LLM相关知识</span></a></h1><p>收集相关岗位需求，汇总如下：</p><p>LLM模型预训练，对齐优化（数据质量优化，指令微调，基于反馈的训练策略优化），MoE，模型自动评估</p><p>训练框架</p><p>Megatron-LM/Deepspeed</p><p>相关模型</p><p>BERT，T5，chatgpt，Llama，GLM</p><h3 id="moe" tabindex="-1"><a class="header-anchor" href="#moe"><span><strong>MOE</strong></span></a></h3><h4 id="gshard-moe" tabindex="-1"><a class="header-anchor" href="#gshard-moe"><span><strong>Gshard MoE</strong></span></a></h4><img src="'+n+'" alt="de7d29620e1835033f2dfd0b0eb43cc8.png" style="zoom:67%;"><p>​ 输入的<code>token</code>会计算一个专家概率，以此决定该<code>token</code>会被送给哪个专家处理。经过<code>MOE</code>，不同的<code>token</code>会送给最擅长处理该<code>token</code>的专家。可能存在负载不均的问题（即有的专家超载，有的专家一直处于空闲），因此提出了<code>Random Routing</code>，<code>capaciy</code>以及<code>Auxiliary Loss</code>三种策略。</p><p><strong>Random Routing</strong></p><p>token一定会发给1st expert，但是2nd expert的选择是通过随机的方式选取。</p><p><strong>capacity</strong></p><p>每个expert所能处理的token是有一定的容量限制的。</p><p><strong>Auxiliary Loss</strong></p><p>辅助损失函数，对负载不均衡的情况进行惩罚。</p><h4 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span><strong>参考</strong></span></a></h4>',18),o={href:"https://zhuanlan.zhihu.com/p/656689797",target:"_blank",rel:"noopener noreferrer"},h={href:"https://blog.csdn.net/qq_27590277/article/details/136360290?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-136360290-blog-132831065.235%5Ev43%5Epc_blog_bottom_relevance_base5&spm=1001.2101.3001.4242.1&utm_relevant_index=3",target:"_blank",rel:"noopener noreferrer"},g=(0,t.Lk)("h3",{id:"gpt-decoder-only-自回归-pretrain-finetuning",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#gpt-decoder-only-自回归-pretrain-finetuning"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"GPT：(decoder only，自回归，pretrain+finetuning)")])])],-1),u=(0,t.Lk)("p",null,[(0,t.eW)("生成式模型，预训练目标是根据历史+当前预测下一token，模型结构为decoder，所不同的是去除了传统transformer中的encoder和decoder中的multi-head attention模块，仅保留了masked-multi-head attention模块，举个例子，模型输入为"),(0,t.Lk)("code",null,"[<start> how are you]"),(0,t.eW)("，则输出目标为"),(0,t.Lk)("code",null,"[how are you <eos>]"),(0,t.eW)("，即输入"),(0,t.Lk)("code",null,"start"),(0,t.eW)("，对应位置的输出一应该是"),(0,t.Lk)("code",null,"how"),(0,t.eW)("，其他以此类推。由此可见，GPT能够建模丰富的语义知识（单向的）")],-1),d=(0,t.Lk)("p",null,[(0,t.eW)("对于不同的下游任务，如文本分类，GPT引入了额外的线性层"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"W"),(0,t.Lk)("mi",null,"y")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"W_y")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("，对输入("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"x^1,...,x^m")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0085em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8141em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"..."),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6644em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])])])])])])])]),(0,t.eW)(")的最后一个token的输出"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msubsup",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"h^{m}_{l}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9775em","vertical-align":"-0.2831em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6644em"}},[(0,t.Lk)("span",{style:{top:"-2.4169em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.01968em"}},"l")])])]),(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2831em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("(其中"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"l")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"l")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6944em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l")])])]),(0,t.eW)("为层数，"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"m")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"m")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"m")])])]),(0,t.eW)("为输入的token数)转换到分类空间，得到预测：")],-1),y=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mi",null,"m")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"f"),(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msubsup",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"m")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"W"),(0,t.Lk)("mi",null,"y")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," P(y|x^1,...,x^m)=softmax(h^{m}_{l}W_y) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"..."),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7144em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0361em","vertical-align":"-0.2861em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"so"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),(0,t.Lk)("span",{class:"mord mathnormal"},"t"),(0,t.Lk)("span",{class:"mord mathnormal"},"ma"),(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7144em"}},[(0,t.Lk)("span",{style:{top:"-2.453em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.01968em"}},"l")])])]),(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.247em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),v=(0,t.Lk)("p",null,"分类损失函数：",-1),b=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"L"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"y")])]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mi",{mathvariant:"normal"},"."),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mi",null,"m")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," L_2 = \\sum_{x,y}logP(y|x^1,...,x^m) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"L"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.4361em","vertical-align":"-1.3861em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.9em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"x"),(0,t.Lk)("span",{class:"mpunct mtight"},","),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3861em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal"},"o"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"..."),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7144em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),x=(0,t.Lk)("p",null,"微调阶段，还引入了预训练阶段的目标函数协同进行优化：",-1),f=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"L"),(0,t.Lk)("mn",null,"3")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"L"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"λ"),(0,t.Lk)("mo",null,"∗"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"L"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," L_3 = L_2+\\lambda*L_1 ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"L"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"3")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"L"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6944em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"λ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"∗"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"L"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])])])],-1),w=(0,t.Fv)('<p>GPT还能做的下游任务：文本蕴含，文本相似度，问答和常识推理</p><p><img src="'+e+'" alt="image-20240522151539834"></p><h3 id="gpt-2-zero-shot" tabindex="-1"><a class="header-anchor" href="#gpt-2-zero-shot"><span><strong>GPT-2(zero-shot)</strong></span></a></h3><blockquote><p><strong>当模型的容量非常大且数据量足够丰富时，仅仅靠语言模型的学习便可以完成其他有监督学习的任务，不需要在下游任务微调</strong>。</p></blockquote><h4 id="翻译任务" tabindex="-1"><a class="header-anchor" href="#翻译任务"><span><strong>翻译任务：</strong></span></a></h4><img src="https://img-blog.csdnimg.cn/22451d0663fe474e92d54d26f38ec818.png#pic_center" alt="翻译任务" style="zoom:50%;"><h4 id="摘要" tabindex="-1"><a class="header-anchor" href="#摘要"><span><strong>摘要：</strong></span></a></h4><img src="https://img-blog.csdnimg.cn/86c7bb7028b84b6ca671d95eacd21cca.png#pic_center" alt="摘要" style="zoom:50%;"><h4 id="参考-1" tabindex="-1"><a class="header-anchor" href="#参考-1"><span><strong>参考</strong></span></a></h4>',9),z={href:"https://lolitasian.blog.csdn.net/article/details/125529598",target:"_blank",rel:"noopener noreferrer"},M=(0,t.Fv)('<h3 id="t5-encoder-and-decoder" tabindex="-1"><a class="header-anchor" href="#t5-encoder-and-decoder"><span><strong>T5: encoder and decoder</strong></span></a></h3><p><img src="'+m+'" alt="image-20240522164137150"></p><p>left: original transformer</p><p>middle: GPT</p><p>right: GPT-2，在不同的下游任务中加入前缀，前缀之间、前缀与目标之间使用完全可见的注意力，</p><p>以下例子，前缀为：<code>Translate English to German: That is good. target:</code>，目标为：<code>Das ist gut.</code></p><ul><li><p>训练阶段input: <code>Translate English to German: That is good. target: Das ist gut.</code> target对应位置和之后的输出做loss</p></li><li><p>测试阶段：<code>Translate English to German: That is not good. target:</code> 预测会作为输入</p></li></ul><h4 id="参考-2" tabindex="-1"><a class="header-anchor" href="#参考-2"><span><strong>参考</strong></span></a></h4>',8),_={href:"https://blog.csdn.net/qq_28385535/article/details/86563224",target:"_blank",rel:"noopener noreferrer"},W=(0,t.Fv)('<h3 id="gpt-3-few-shot" tabindex="-1"><a class="header-anchor" href="#gpt-3-few-shot"><span><strong>GPT-3(Few shot)</strong></span></a></h3><blockquote><p>引入sparse attention</p></blockquote><h3 id="transformer讲解" tabindex="-1"><a class="header-anchor" href="#transformer讲解"><span><strong>transformer讲解</strong></span></a></h3><h4 id="关键点1-训练和测试时的不同之处。" tabindex="-1"><a class="header-anchor" href="#关键点1-训练和测试时的不同之处。"><span><strong>关键点1：训练和测试时的不同之处。</strong></span></a></h4><p>由于transformer最初是用于翻译任务，因此我们从一个例子着手讲解训练和测试时候的不同。</p><p>例子：我有一只猫 --&gt; <code>I have a cat</code></p><p><strong>训练阶段</strong>，encoder输入我有一只猫，希望decoder输出<code>I have a cat &lt;eos&gt;</code>，此时decoder的输入是<code>&lt;Begin&gt; I have a cat</code></p><p><img src="https://pic1.zhimg.com/80/v2-4616451fe8aa59b2df2ead30fa31dc98_720w.webp" alt="img"></p><p>decoder包含一个masked multihead attention，主要是为了防止训练的时候，模型在预测第<code>i</code>个单词的时候，就已经知道第<code>i+1</code>个单词的信息，将真实标签泄露。随后masked multihead attention的输出作为query，encoder的输出作为key和value，此时就不需要mask attention了，这是因为当我们预测<code>I</code>的时候，是可以与待翻译句子的完整信息进行交互的。</p><p>在<strong>测试阶段</strong>，由于我们无法获取真实标签，因此decoder的一开始先输入<code>&lt;Begin&gt;</code>，得到预测<code>I</code>后，下一阶段输入<code>&lt;Begin&gt; I</code>得到预测<code>have</code>，知道decoder最终输出<code>&lt;eos&gt;</code>，代表句子翻译结束。</p>',10),E={href:"https://zhuanlan.zhihu.com/p/93030328",target:"_blank",rel:"noopener noreferrer"},P=(0,t.Fv)('<h4 id="attention-mechanism" tabindex="-1"><a class="header-anchor" href="#attention-mechanism"><span><strong>attention mechanism</strong></span></a></h4><p>query 与 key 进行相似度匹配，从 value 中检索到最接近于 query 的。</p><h4 id="为什么将encoder的output作为key-value-将decoder的output作为query-而不是decoder的output作为key-value-encoder的output作为query-同时skip-connect-key-value" tabindex="-1"><a class="header-anchor" href="#为什么将encoder的output作为key-value-将decoder的output作为query-而不是decoder的output作为key-value-encoder的output作为query-同时skip-connect-key-value"><span><strong>为什么将encoder的output作为key/value，将decoder的output作为query，而不是decoder的output作为key/value,encoder的output作为query，同时skip connect key/value?</strong></span></a></h4><p>在机器翻译任务中，将源语句作为encoder的输入，其输出作为decoder中key和value，我认为是一种condition，通过与decoder的输出做交互，得到最终翻译结果是受制于源语句的embedding。</p><img src="https://pic4.zhimg.com/80/v2-f6380627207ff4d1e72addfafeaff0bb_720w.webp" alt="img" style="zoom:67%;"><h4 id="skip-connection-in-transformer" tabindex="-1"><a class="header-anchor" href="#skip-connection-in-transformer"><span><strong>skip connection in transformer</strong></span></a></h4><p>While self-attention allows for flexible interactions and transformations, residual connections ensure that the transformed representations still &quot;remember&quot; the original input state. They act as a reminder of the initial input, <strong>helping to maintain a connection between the transformed representations and the original tokens.</strong></p><h4 id="参考-3" tabindex="-1"><a class="header-anchor" href="#参考-3"><span><strong>参考</strong></span></a></h4>',8),T={href:"https://zhuanlan.zhihu.com/p/338817680",target:"_blank",rel:"noopener noreferrer"},B={href:"https://www.youtube.com/watch?v=ugWDIIOHtPA&list=PLJV_el3uVTsOK_ZK5L0Iv_EQoL1JefRL4&index=61",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.zhihu.com/zvideo/1330559583777939456",target:"_blank",rel:"noopener noreferrer"},q={href:"https://blog.csdn.net/qq_27590277/article/details/129292782",target:"_blank",rel:"noopener noreferrer"},F=(0,t.Lk)("h3",{id:"instruct-gpt-人类反馈的强化学习-对齐",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#instruct-gpt-人类反馈的强化学习-对齐"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"Instruct-GPT（人类反馈的强化学习，对齐)")])])],-1),G=(0,t.Lk)("h4",{id:"参考-4",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#参考-4"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"参考")])])],-1),S={href:"https://zhuanlan.zhihu.com/p/590311003",target:"_blank",rel:"noopener noreferrer"},A=(0,t.Lk)("h3",{id:"stable-diffusion",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#stable-diffusion"},[(0,t.Lk)("span",null,"stable diffusion")])],-1),R=(0,t.Lk)("blockquote",null,[(0,t.Lk)("p",null,"关键点：之前没想明白为啥用图像做query， 用条件信息做key和value， 后来才想明白。 图像信息主要部份还是从skip connection过去了， 这个边仅仅是相从条件信息中动态的吸收一些信息进来。 cross_attention本质上是对query引入了query与key（条件）的交互信息。")],-1),O=(0,t.Lk)("h4",{id:"参考-5",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#参考-5"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"参考")])])],-1),X={href:"https://zhuanlan.zhihu.com/p/613337342",target:"_blank",rel:"noopener noreferrer"},I=(0,t.Lk)("h3",{id:"指令优化",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#指令优化"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"指令优化")])])],-1),j=(0,t.Lk)("hr",null,null,-1),D={href:"https://arxiv.org/pdf/2311.04155",target:"_blank",rel:"noopener noreferrer"},Y=(0,t.Lk)("p",null,[(0,t.eW)("构建训练数据集, 从"),(0,t.Lk)("code",null,"OASST1"),(0,t.eW)(", "),(0,t.Lk)("code",null,"hh-rlhf"),(0,t.eW)(", "),(0,t.Lk)("code",null,"Chatbot Arena Conversations"),(0,t.eW)("以及"),(0,t.Lk)("code",null,"Alpaca-GPT4"),(0,t.eW)("四个数据集中得到以下格式的数据，包含指令("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"u"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mi",null,"r")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"X_{user}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"u"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"ser")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(")，好的"),(0,t.Lk)("code",null,"respose"),(0,t.eW)("("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"Y"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"d")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"Y_{good}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"Y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"oo"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(")和不好的"),(0,t.Lk)("code",null,"response"),(0,t.eW)("("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"Y"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"b"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"d")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"Y_{bad}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"Y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"ba"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(").")],-1),N=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"T"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"u"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mi",null,"r")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"Y"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"b"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"d")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"Y"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"d")])]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," Training\\_data\\in(X_{user},Y_{bad},Y_{good}) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0044em","vertical-align":"-0.31em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal"},"ainin"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord mathnormal"},"t"),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"∈"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0361em","vertical-align":"-0.2861em"}}),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"u"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"ser")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"Y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"ba"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"Y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"oo"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),U=(0,t.Lk)("p",null,[(0,t.eW)("接着通过"),(0,t.Lk)("code",null,"chatgpt"),(0,t.eW)("对 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"u"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mi",null,"r")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"X_{user}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"u"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"ser")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 进行"),(0,t.Lk)("code",null,"refine"),(0,t.eW)("，构造指令，分析好的"),(0,t.Lk)("code",null,"respose"),(0,t.eW)("和不好的"),(0,t.Lk)("code",null,"repsonse"),(0,t.eW)("，以此构造好的instruction("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"p"),(0,t.Lk)("mi",null,"t")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"X_{opt}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"o"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"pt")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(")")],-1),Q=(0,t.Lk)("p",null,[(0,t.eW)("优化 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"u"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mi",null,"r")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"X_{user}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"u"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"ser")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 的"),(0,t.Lk)("code",null,"propmt"),(0,t.eW)("的构造如下(with context)：")],-1),J=(0,t.Fv)('<div class="language-tex line-numbers-mode" data-ext="tex" data-title="tex"><pre class="language-tex"><code>instruction: &quot;<span class="token punctuation">{</span><span class="token punctuation">}</span>&quot;  \ncontext:\n&quot;<span class="token punctuation">{</span><span class="token punctuation">}</span>&quot;\nbad response:\n&quot;<span class="token punctuation">{</span><span class="token punctuation">}</span>&quot;\ngood response:\n&quot;<span class="token punctuation">{</span><span class="token punctuation">}</span>&quot;\nCompare the good response and bad response from these aspects: correctness (if the response follows the instruction correctly and give an accurate response, high priority), helpfulness(like depth, creativity, coherence) and harmlessness. Then be an expert prompt engineer and improve my instruction from the above aspects to get better responses like &quot;good response&quot; rather than &quot;bad response&quot;.\nPay attention to:\n1.Don&#39;t forget any information in the original instruction. Focus on maintaining all the information in my instruction.\n2.Please don&#39;t add too detailed content constraints related to the good response and not mentioned in the original instruction, unless in form of examples.\n3.Don&#39;t change the context or add the context into the instruction, but rather optimize my instruction only. Don&#39;t give a response to my instruction.\n4.Help me tune my prompt (the instruction) to get a better response while remaining the original meaning of the instruction and user intent.\nOutput with the following format:\nDetailed Comparison Result: xxx\nOptimized Instruction: xxx <span class="token punctuation">[</span>END<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),Z=(0,t.Lk)("p",null,[(0,t.eW)("训练集构建完成后，训练一个"),(0,t.Lk)("code",null,"seq2seq"),(0,t.eW)("的模型，使得该模型针对输入的原始"),(0,t.Lk)("code",null,"instruction"),(0,t.eW)("("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"u"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mi",null,"r")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"X_{user}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"u"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"ser")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(")，能够得到优化后的"),(0,t.Lk)("code",null,"instruction"),(0,t.eW)("("),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"X"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"p"),(0,t.Lk)("mi",null,"t")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"X_{opt}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"o"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"pt")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(")")],-1),$=(0,t.Fv)('<h3 id="large-language-models-as-optimizers" tabindex="-1"><a class="header-anchor" href="#large-language-models-as-optimizers"><span><strong>Large Language Models as Optimizers</strong></span></a></h3><hr><img src="'+i+'" alt="image-20240528153141276" style="zoom:80%;"><p>meta-prompt包含soultion-score对，以及任务描述，初始时，应该是没有solution-score的，只喂给LLM任务描述以及初始的solution(如Let’s figure it out!)，得到score，添加到solution-score中。接着将更新的solution-score与solution generation prompt喂给LLM得到新的solution（类似let&#39;s think step by step的东西，帮助模型更好解决该问题），对输出结果进行打分，添加到solution-score中。</p><p>solution generation prompt</p><div class="language-tex line-numbers-mode" data-ext="tex" data-title="tex"><pre class="language-tex"><code>Write your new text that is different from the old ones and has a score as high as possible. Write the text in square brackets.\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>接着meta-prompt中就有solution-score了，继续喂给LLM，作为参考的case得到更好的soution。</p><p>solution-score pairs:</p><div class="language-tex line-numbers-mode" data-ext="tex" data-title="tex"><pre class="language-tex"><code>I have some texts along with their corresponding scores. The texts are arranged in ascending order based on their scores, where higher scores indicate better quality.\ntext:\nLet’s figure it out!\nscore:\n61\ntext:\nLet’s solve the problem.\nscore:\n63\n(. . . more instructions and scores . . . )\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>task description</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>The following exemplars show how to <span class="token builtin">apply</span> your text<span class="token punctuation">:</span> you replace <span class="token operator">&lt;</span>INS<span class="token operator">&gt;</span> <span class="token keyword">in</span> each <span class="token builtin">input</span> <span class="token keyword">with</span> your text<span class="token punctuation">,</span> then read the <span class="token builtin">input</span> <span class="token keyword">and</span> give an output<span class="token punctuation">.</span> We say your output <span class="token keyword">is</span> wrong <span class="token keyword">if</span> your output <span class="token keyword">is</span> different <span class="token keyword">from</span> the given output<span class="token punctuation">,</span> <span class="token keyword">and</span> we say your output <span class="token keyword">is</span> correct <span class="token keyword">if</span> they are the same<span class="token punctuation">.</span>\n<span class="token builtin">input</span><span class="token punctuation">:</span>\nQ<span class="token punctuation">:</span> Alannah<span class="token punctuation">,</span> Beatrix<span class="token punctuation">,</span> <span class="token keyword">and</span> Queen are preparing <span class="token keyword">for</span> the new school year <span class="token keyword">and</span> have been given books\nby their parents<span class="token punctuation">.</span> Alannah has <span class="token number">20</span> more books than Beatrix<span class="token punctuation">.</span> Queen has <span class="token number">1</span><span class="token operator">/</span><span class="token number">5</span> times more books than\nAlannah<span class="token punctuation">.</span> If Beatrix has <span class="token number">30</span> books<span class="token punctuation">,</span> how many books do the three have together?\nA<span class="token punctuation">:</span> <span class="token operator">&lt;</span>INS<span class="token operator">&gt;</span>     \noutput<span class="token punctuation">:</span>\n<span class="token number">140</span> <span class="token comment"># correct answer</span>\n<span class="token punctuation">(</span><span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> more exemplars <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INS</code> 代表<code>soultion</code>插入的位置，包括<code>Q_begin</code>,<code>A_begin</code>,<code>Q_end</code></p><img src="'+r+'" alt="image-20240528155528122" style="zoom:67%;"><img src="'+p+'" alt="image-20240528155619858" style="zoom:67%;"><img src="'+k+'" alt="image-20240528155911512" style="zoom:67%;"><h4 id="参考-6" tabindex="-1"><a class="header-anchor" href="#参考-6"><span><strong>参考</strong></span></a></h4>',16),H={href:"https://blog.csdn.net/codename_cys/article/details/135587000?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-135587000-blog-132844165.235%5Ev43%5Epc_blog_bottom_relevance_base5&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-135587000-blog-132844165.235%5Ev43%5Epc_blog_bottom_relevance_base5&utm_relevant_index=4",target:"_blank",rel:"noopener noreferrer"},K={href:"https://zhuanlan.zhihu.com/p/657011752",target:"_blank",rel:"noopener noreferrer"},V=(0,t.Lk)("h3",{id:"数据质量的优化",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#数据质量的优化"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"数据质量的优化")])])],-1),ss=(0,t.Lk)("p",null,[(0,t.Lk)("img",{src:L,alt:"img"})],-1),as=(0,t.Lk)("p",null,"​ LLM训练的三个阶段",-1),ls=(0,t.Lk)("ol",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,"数据的质量>数据的数量，Garbage in, garbage out.")]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,"在不同的训练阶段，都有以下原则：")])],-1),ts={href:"https://axk51013.medium.com/llm%E5%B0%88%E6%AC%84-%E8%BF%8E%E6%8E%A52024%E5%B9%B4-10%E5%80%8B%E5%BF%85%E9%A0%88%E8%A6%81%E6%90%9E%E6%87%82%E7%9A%84llm%E6%A6%82%E5%BF%B5-2-good-data-is-all-you-need-1e9e760c016a",target:"_blank",rel:"noopener noreferrer"},ns=(0,t.Lk)("li",null,[(0,t.Lk)("p",null,"提升数据质量：在训练模型时，除了提供最终的结果外，还应该尽可能地展示任务的内在逻辑和过程（如解数学题中的推理过程有助于模型更好理解问题）。这样可以帮助模型更深入地理解任务，提高学习的效率和泛化能力。")],-1),es=(0,t.Lk)("ol",{start:"3"},[(0,t.Lk)("li",null,"在特定阶段应该注意的原则：")],-1),ms=(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,"随着 LLM 在 continual pretraining 阶段学习新的知识，最一开始学习的知识会不断遗忘，因此在 continual pretraining 这个阶段通常我们会混入带给模型通用知识的资料。让模型不断复制这些重要知识。")]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.eW)("進行 SFT 的時候，我們不只要特定任務的 data，"),(0,t.Lk)("strong",null,"還要盡量混一些跟這個任務相關的其他 supervised finetuning data"),(0,t.eW)("，讓模型變成一個大範圍任務都通用的通才，而非學會特定任務就忘記基礎能力。")])])],-1),is=(0,t.Lk)("h4",{id:"参考-7",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#参考-7"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"参考")])])],-1),rs={href:"https://zhuanlan.zhihu.com/p/687489507",target:"_blank",rel:"noopener noreferrer"},ps={href:"https://axk51013.medium.com/llm%E5%B0%88%E6%AC%84-%E8%BF%8E%E6%8E%A52024%E5%B9%B4-10%E5%80%8B%E5%BF%85%E9%A0%88%E8%A6%81%E6%90%9E%E6%87%82%E7%9A%84llm%E6%A6%82%E5%BF%B5-2-good-data-is-all-you-need-1e9e760c016a",target:"_blank",rel:"noopener noreferrer"},ks=(0,t.Lk)("li",null,"知识遗忘：Predicting Task Forgetting in Large Language Models",-1),Ls=(0,t.Fv)('<h3 id="llm-应用" tabindex="-1"><a class="header-anchor" href="#llm-应用"><span><strong>LLM 应用</strong></span></a></h3><hr><p>路径：prompt 工程 -&gt; 进阶 prompt 工程 -&gt; 简单 RAG -&gt; 微调模型 -&gt; 进阶 RAG -&gt; 带着 RAG 样本微调模型</p><h4 id="参考-8" tabindex="-1"><a class="header-anchor" href="#参考-8"><span><strong>参考</strong></span></a></h4><ul><li>https://client.sspai.com/post/87795</li></ul><h3 id="rag" tabindex="-1"><a class="header-anchor" href="#rag"><span><strong>RAG</strong></span></a></h3><h4 id="参考-9" tabindex="-1"><a class="header-anchor" href="#参考-9"><span><strong>参考</strong></span></a></h4><ul><li>https://baoyu.io/translations/rag/advanced-rag-techniques-an-illustrated-overview</li></ul><h3 id="llm的自动评估" tabindex="-1"><a class="header-anchor" href="#llm的自动评估"><span><strong>LLM的自动评估</strong></span></a></h3><hr><h4 id="pandalm" tabindex="-1"><a class="header-anchor" href="#pandalm"><span><strong>PandaLM</strong></span></a></h4><p>训练一个可以评估LLM回复的大模型，backbone为Llama。</p><h3 id="文本生成评估指标" tabindex="-1"><a class="header-anchor" href="#文本生成评估指标"><span><strong>文本生成评估指标</strong></span></a></h3><hr><p>BLEU: 常用于机器翻译任务，通过比较机器翻译的译文与参考译文的n-gram重合度，重合长度越高则说明译文质量越好。</p>',15),cs=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"B"),(0,t.Lk)("mi",null,"L"),(0,t.Lk)("mi",null,"E"),(0,t.Lk)("mi",null,"U"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",null,"B"),(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mo",null,"×"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mi",null,"p"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("munderover",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mi",null,"N")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"W"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mo",null,"×"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"o"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," BLEU=BP \\times exp(\\sum_{n=1}^{N}W_n \\times logP_n) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B"),(0,t.Lk)("span",{class:"mord mathnormal"},"L"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"U"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"BP"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"×"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"3.0954em","vertical-align":"-1.2671em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"e"),(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"mord mathnormal"},"p"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.8283em"}},[(0,t.Lk)("span",{style:{top:"-1.8829em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mrel mtight"},"="),(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])]),(0,t.Lk)("span",{style:{top:"-4.3em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.10903em"}},"N")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.2671em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"×"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal"},"o"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),os=(0,t.Lk)("p",null,[(0,t.eW)("其中 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_n")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 体现了机器译文与参考译文的 n_gram 重合度，"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"W"),(0,t.Lk)("mi",null,"n")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"W_n")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 为不同 gram 的权重，一般为均匀权重。1-gram代表了译文的准确度，其他 gram 代表译文的流畅度。"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_n")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 的计算例子如下：")],-1),hs=(0,t.Lk)("p",null,[(0,t.eW)("参考译文"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"S")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.eW)("：there is a cat on the table")],-1),gs=(0,t.Lk)("p",null,[(0,t.eW)("机器译文"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"C")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"C")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])])]),(0,t.eW)("：a cat is on the table")],-1),us=(0,t.Lk)("p",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_1")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(": a, cat, on, the, table 都在参考译文中，为1")],-1),ds=(0,t.Lk)("p",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"2")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_2")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(": a cat在, cat is不在, is on不在, on the在, the table在，为3/5")],-1),ys=(0,t.Lk)("p",null,"...",-1),vs=(0,t.Lk)("p",null,[(0,t.eW)("据此可以得到"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_n")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("的计算公式（针对的是只有一个参考译文的情况）：")],-1),bs=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mspace",{linebreak:"newline"}),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,":"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mtext",null," "),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mtext",null,"在参考译文"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mtext",null,"中出现的次数"),(0,t.Lk)("mspace",{linebreak:"newline"}),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,":"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mtext",null," "),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mtext",null,"在机器译文"),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mtext",null,"中出现的次数"),(0,t.Lk)("mspace",{linebreak:"newline"}),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mtext",null," "),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mtext",null,"指的是机器译文"),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mtext",null,"中的第"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mtext",null,"个"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," P_n = \\frac{\\sum_{i\\in n\\_gram}h_i(S)}{\\sum_{i \\in n\\_gram}h_i(C)}\\\\ h_i(S):n\\_gram\\ i在参考译文S中出现的次数 \\\\ h_i(C):n\\_gram\\ i在机器译文C中出现的次数 \\\\ n\\_gram\\ i 指的是机器译文C中的第i个n\\_gram ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.8594em","vertical-align":"-1.2027em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.6567em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.162em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mord mtight",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"am")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5167em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.9067em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.162em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mord mtight",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"am")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5167em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.2027em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])]),(0,t.Lk)("span",{class:"mspace newline"}),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},":"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9933em","vertical-align":"-0.31em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"n"),(0,t.Lk)("span",{class:"mord",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal"},"am"),(0,t.Lk)("span",{class:"mspace"}," "),(0,t.Lk)("span",{class:"mord mathnormal"},"i"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"在参考译文"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"中出现的次数")]),(0,t.Lk)("span",{class:"mspace newline"}),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},":"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9933em","vertical-align":"-0.31em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"n"),(0,t.Lk)("span",{class:"mord",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal"},"am"),(0,t.Lk)("span",{class:"mspace"}," "),(0,t.Lk)("span",{class:"mord mathnormal"},"i"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"在机器译文"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"中出现的次数")]),(0,t.Lk)("span",{class:"mspace newline"}),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9933em","vertical-align":"-0.31em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"n"),(0,t.Lk)("span",{class:"mord",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal"},"am"),(0,t.Lk)("span",{class:"mspace"}," "),(0,t.Lk)("span",{class:"mord mathnormal"},"i"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"指的是机器译文"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"中的第"),(0,t.Lk)("span",{class:"mord mathnormal"},"i"),(0,t.Lk)("span",{class:"mord cjk_fallback"},"个"),(0,t.Lk)("span",{class:"mord mathnormal"},"n"),(0,t.Lk)("span",{class:"mord",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal"},"am")])])])])],-1),xs=(0,t.Lk)("p",null,"针对BLEU对词重复和短句的不好表现，引入了改进的多元精度和短句惩罚因子。",-1),fs=(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"改进的多元精度")],-1),ws=(0,t.Lk)("p",null,"针对重复词进行的改进，具体例子如下：",-1),zs=(0,t.Lk)("p",null,[(0,t.eW)("机器译文"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"C")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"C")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])])]),(0,t.eW)(": there there there there there")],-1),Ms=(0,t.Lk)("p",null,[(0,t.eW)("参考译文"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"S")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.eW)(": there is a cat on the table")],-1),_s=(0,t.Lk)("p",null,[(0,t.eW)("此时算出来的"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_1")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("为1，明显不正确。因此引入改进的多元精度")],-1),Ws=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"x"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"j"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mi",null,"j")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," P_n = \\frac{\\sum_{i \\in n\\_gram}min(h_i(C),max_{j\\in m}(h_i(S_j))}{\\sum_{i \\in n\\_gram}h_i(C)} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.8594em","vertical-align":"-1.2027em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.6567em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.162em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mord mtight",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"am")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5167em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.9067em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.162em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mord mtight",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"am")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5167em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"min"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"ma"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"x"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"))")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.2027em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])])])])])],-1),Es=(0,t.Lk)("p",null,[(0,t.eW)("带入，则"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_1")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("的计算如下：")],-1),Ps=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"m"),(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"5"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"5")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mn",null,"5")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," P_1 = \\frac{min(5,1)+min(5,1)+min(5,1)+min(5,1)+min(5,1)}{5+5+5+5+5}=\\frac{1}{5} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.1963em","vertical-align":"-0.7693em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.427em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord"},"5")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"min"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"min"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"min"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"min"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"min"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},"5"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7693em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.0074em","vertical-align":"-0.686em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3214em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"5")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.686em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])])])])])],-1),Ts=(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"惩罚因子")],-1),Bs=(0,t.Lk)("p",null,[(0,t.eW)("机器译文"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"C")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"C")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])])]),(0,t.eW)(": a cat")],-1),Cs=(0,t.Lk)("p",null,[(0,t.eW)("参考译文"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"S")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.eW)(": there is a cat on the table")],-1),qs=(0,t.Lk)("p",null,[(0,t.eW)("机器译文很短，翻译不准确，但是"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mtext",null,"，"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mn",null,"2")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"P_1，P_2")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord cjk_fallback"},"，"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("都为1，因此需要引入惩罚因子。")],-1),Fs=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"B"),(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mrow",null,[(0,t.Lk)("mo",{fence:"true"},"{"),(0,t.Lk)("mtable",{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"false"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",{separator:"true"},",")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"false"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mtext",null,"if "),(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"false"},[(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"c"),(0,t.Lk)("mo",null,">"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"r")])])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"false"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"exp"),(0,t.Lk)("mo",null,"⁡"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",{mathvariant:"normal"},"/"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"c"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{separator:"true"},",")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"false"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mtext",null,"if "),(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"false"},[(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"c"),(0,t.Lk)("mo",null,"<"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"r")])])])])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," BP = \\begin{cases} 1, & \\text{if $lc>lr$} \\\\ \\exp(1-lr/lc), & \\text{if $lc<=lr$} \\end{cases} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"BP"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"3em","vertical-align":"-1.25em"}}),(0,t.Lk)("span",{class:"minner"},[(0,t.Lk)("span",{class:"mopen delimcenter",style:{top:"0em"}},[(0,t.Lk)("span",{class:"delimsizing size4"},"{")]),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.69em"}},[(0,t.Lk)("span",{style:{top:"-3.69em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.008em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mpunct"},",")])]),(0,t.Lk)("span",{style:{top:"-2.25em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.008em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},"exp"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},"1"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord"},"/"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal"},"c"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mpunct"},",")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.19em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"arraycolsep",style:{width:"1em"}}),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.69em"}},[(0,t.Lk)("span",{style:{top:"-3.69em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.008em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord text"},[(0,t.Lk)("span",{class:"mord"},"if "),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal"},"c"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},">"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")])])]),(0,t.Lk)("span",{style:{top:"-2.25em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.008em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord text"},[(0,t.Lk)("span",{class:"mord"},"if "),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal"},"c"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"<="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.19em"}},[(0,t.Lk)("span")])])])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])])])])])],-1),Gs=(0,t.Lk)("h3",{id:"rouge",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#rouge"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"ROUGE")])])],-1),Ss=(0,t.Lk)("hr",null,null,-1),As=(0,t.Lk)("p",null,[(0,t.eW)("英文全称Recall-Oriented Understudy for Gisting Evaluation，可以看做是BLEU 的改进版，专注于"),(0,t.Lk)("strong",null,"召回率而非精度"),(0,t.eW)("。换句话说，它会查看有多少个参考译句中的 n 元词组出现在了输出之中。")],-1),Rs=(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"P"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"C"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",{mathvariant:"normal"},"_"),(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"h"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," P_n = \\frac{\\sum_{i \\in n\\_gram}h_i(C)}{\\sum_{i \\in n\\_gram}h_i(S)} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.8594em","vertical-align":"-1.2027em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.6567em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.162em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mord mtight",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"am")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5167em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.9067em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.162em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mord mtight",style:{"margin-right":"0.02778em"}},"_"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"am")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5167em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"h"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.2027em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])])])])])],-1),Os=(0,t.Lk)("h3",{id:"bertscore",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#bertscore"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"BERTScore")])])],-1),Xs=(0,t.Lk)("hr",null,null,-1),Is=(0,t.Lk)("p",null,"BERTScore 是一种自然语言处理的评估方法，通常用于评估生成文本（例如机器翻译或文本生成）的质量。即对两个生成句和参考句（word piece进行tokenize）分别用bert提取特征，然后对2个句子的每一个词分别计算内积，可以得到一个相似性矩阵。基于这个矩阵，我们可以分别对参考句和生成句做一个最大相似性得分的累加然后归一化，得到bertscore的precision，recall和F1",-1),js=(0,t.Lk)("h4",{id:"参考-10",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#参考-10"},[(0,t.Lk)("span",null,[(0,t.Lk)("strong",null,"参考")])])],-1),Ds={href:"https://blog.csdn.net/philosophyatmath/article/details/138006190",target:"_blank",rel:"noopener noreferrer"},Ys={},Ns=(0,l(6262).A)(Ys,[["render",function(s,a){const l=(0,t.g2)("ExternalLinkIcon");return(0,t.uX)(),(0,t.CE)("div",null,[c,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.Lk)("a",o,[(0,t.eW)("算法简明介绍"),(0,t.bF)(l)])])]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.Lk)("a",h,[(0,t.eW)("全网最细致大模型MoE原理+代码手撕版"),(0,t.bF)(l)])])])]),g,u,d,y,v,b,x,f,w,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",z,[(0,t.eW)("The Illustrated GPT-2"),(0,t.bF)(l)])])]),M,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",_,[(0,t.eW)("teacher forcing"),(0,t.bF)(l)])])]),W,(0,t.Lk)("p",null,[(0,t.eW)("对比训练和测试可以发现，训练阶段可以并行化，极大提升了训练速度。但是这样做，训练测试的时候input不一致，存在着gap，称为"),(0,t.Lk)("a",E,[(0,t.eW)("exposure bias"),(0,t.bF)(l)]),(0,t.eW)(".")]),P,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.Lk)("a",T,[(0,t.eW)("知乎transformer讲解"),(0,t.bF)(l)])])]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.Lk)("a",B,[(0,t.eW)("李宏毅大神"),(0,t.bF)(l)])])]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.Lk)("a",C,[(0,t.eW)("测试阶段的解码过程"),(0,t.bF)(l)])])]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.Lk)("a",q,[(0,t.eW)("GPT历程"),(0,t.bF)(l)])])])]),F,G,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",S,[(0,t.eW)("知乎讲解"),(0,t.bF)(l)])])]),A,R,O,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",X,[(0,t.eW)("stable diffusion原理介绍与代码解析"),(0,t.bF)(l)])])]),I,j,(0,t.Lk)("p",null,[(0,t.Lk)("a",D,[(0,t.eW)("Black-Box Prompt Optimization: Aligning Large Language Models without Model Training"),(0,t.bF)(l)])]),Y,N,U,Q,J,Z,$,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",H,[(0,t.eW)("csdn文献阅读：large language models as optimizers"),(0,t.bF)(l)])]),(0,t.Lk)("li",null,[(0,t.Lk)("a",K,[(0,t.eW)("OPRO: 让LLM充当优化器的玩法"),(0,t.bF)(l)])])]),V,ss,as,ls,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.eW)("Data mixture 非常重要，决定了 LLM 获取的能力范围以及特定能力的大小。数据的比例一定要藉由 loss 來觀測Forgetting的狀況，並且運用 Scaling law 來找出最好的 data 配比。"),(0,t.Lk)("a",ts,[(0,t.eW)("[5-15]"),(0,t.bF)(l)])])]),ns]),es,ms,is,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",rs,[(0,t.eW)("Good Data is all you need，训练LLM数据是关键"),(0,t.bF)(l)])]),(0,t.Lk)("li",null,[(0,t.Lk)("a",ps,[(0,t.eW)("【LLM 10大觀念-2】Good Data is All You Need"),(0,t.bF)(l)])]),ks]),Ls,cs,os,hs,gs,us,ds,ys,vs,bs,xs,fs,ws,zs,Ms,_s,Ws,Es,Ps,Ts,Bs,Cs,qs,Fs,Gs,Ss,As,Rs,Os,Xs,Is,js,(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("a",Ds,[(0,t.eW)("文本生成评价指标"),(0,t.bF)(l)])])])])}]]),Us=JSON.parse('{"path":"/posts/work/LLM-related-knowledge.html","title":"LLM相关知识","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-06-29T00:00:00.000Z","category":["work","LLM-related-knowledge"],"tag":["LLM-related-knowledge"],"description":"LLM相关知识 收集相关岗位需求，汇总如下： LLM模型预训练，对齐优化（数据质量优化，指令微调，基于反馈的训练策略优化），MoE，模型自动评估 训练框架 Megatron-LM/Deepspeed 相关模型 BERT，T5，chatgpt，Llama，GLM MOE Gshard MoE de7d29620e1835033f2dfd0b0eb43cc...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/myblog/posts/work/LLM-related-knowledge.html"}],["meta",{"property":"og:site_name","content":"Ljh\'s Blog"}],["meta",{"property":"og:title","content":"LLM相关知识"}],["meta",{"property":"og:description","content":"LLM相关知识 收集相关岗位需求，汇总如下： LLM模型预训练，对齐优化（数据质量优化，指令微调，基于反馈的训练策略优化），MoE，模型自动评估 训练框架 Megatron-LM/Deepspeed 相关模型 BERT，T5，chatgpt，Llama，GLM MOE Gshard MoE de7d29620e1835033f2dfd0b0eb43cc..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://pic1.zhimg.com/80/v2-4616451fe8aa59b2df2ead30fa31dc98_720w.webp"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"Jinhao Lin"}],["meta",{"property":"article:tag","content":"LLM-related-knowledge"}],["meta",{"property":"article:published_time","content":"2024-06-29T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"LLM相关知识\\",\\"image\\":[\\"https://pic1.zhimg.com/80/v2-4616451fe8aa59b2df2ead30fa31dc98_720w.webp\\"],\\"datePublished\\":\\"2024-06-29T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jinhao Lin\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":3,"title":"MOE","slug":"moe","link":"#moe","children":[]},{"level":3,"title":"GPT：(decoder only，自回归，pretrain+finetuning)","slug":"gpt-decoder-only-自回归-pretrain-finetuning","link":"#gpt-decoder-only-自回归-pretrain-finetuning","children":[]},{"level":3,"title":"GPT-2(zero-shot)","slug":"gpt-2-zero-shot","link":"#gpt-2-zero-shot","children":[]},{"level":3,"title":"T5: encoder and decoder","slug":"t5-encoder-and-decoder","link":"#t5-encoder-and-decoder","children":[]},{"level":3,"title":"GPT-3(Few shot)","slug":"gpt-3-few-shot","link":"#gpt-3-few-shot","children":[]},{"level":3,"title":"transformer讲解","slug":"transformer讲解","link":"#transformer讲解","children":[]},{"level":3,"title":"Instruct-GPT（人类反馈的强化学习，对齐)","slug":"instruct-gpt-人类反馈的强化学习-对齐","link":"#instruct-gpt-人类反馈的强化学习-对齐","children":[]},{"level":3,"title":"stable diffusion","slug":"stable-diffusion","link":"#stable-diffusion","children":[]},{"level":3,"title":"指令优化","slug":"指令优化","link":"#指令优化","children":[]},{"level":3,"title":"Large Language Models as Optimizers","slug":"large-language-models-as-optimizers","link":"#large-language-models-as-optimizers","children":[]},{"level":3,"title":"数据质量的优化","slug":"数据质量的优化","link":"#数据质量的优化","children":[]},{"level":3,"title":"LLM 应用","slug":"llm-应用","link":"#llm-应用","children":[]},{"level":3,"title":"RAG","slug":"rag","link":"#rag","children":[]},{"level":3,"title":"LLM的自动评估","slug":"llm的自动评估","link":"#llm的自动评估","children":[]},{"level":3,"title":"文本生成评估指标","slug":"文本生成评估指标","link":"#文本生成评估指标","children":[]},{"level":3,"title":"ROUGE","slug":"rouge","link":"#rouge","children":[]},{"level":3,"title":"BERTScore","slug":"bertscore","link":"#bertscore","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":12.09,"words":3627},"filePathRelative":"posts/work/LLM-related-knowledge.md","localizedDate":"2024年6月29日","excerpt":"\\n<p>收集相关岗位需求，汇总如下：</p>\\n<p>LLM模型预训练，对齐优化（数据质量优化，指令微调，基于反馈的训练策略优化），MoE，模型自动评估</p>\\n<p>训练框架</p>\\n<p>Megatron-LM/Deepspeed</p>\\n<p>相关模型</p>\\n<p>BERT，T5，chatgpt，Llama，GLM</p>\\n<h3><strong>MOE</strong></h3>\\n<h4><strong>Gshard MoE</strong></h4>\\n\\n<p>​\\t输入的<code>token</code>会计算一个专家概率，以此决定该<code>token</code>会被送给哪个专家处理。经过<code>MOE</code>，不同的<code>token</code>会送给最擅长处理该<code>token</code>的专家。可能存在负载不均的问题（即有的专家超载，有的专家一直处于空闲），因此提出了<code>Random Routing</code>，<code>capaciy</code>以及<code>Auxiliary Loss</code>三种策略。</p>","autoDesc":true}')}}]);